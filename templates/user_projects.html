{% extends "base.html" %}

{% block content %}
<div style="margin: 20px">
    <h1>Ваши Проекты</h1>
    <p><button class="btn btn-success" onclick="location.href='/add_project'">Создать проект</button></p>
    {% for project in projects %}
      <div class="project-card mb-4 mt-4" onclick="location.href='/project/{{ project['name'] }}'">
          <div id="carousel-{{ project['id'] }}" class="carousel slide" data-bs-ride="carousel" data-interval="30000" data-pause="hover">
            <div class="carousel-inner">
              {% for slide in project["imgs"] %}
                {% if loop.first %}
                  <div class="carousel-item active project-card-img">
                    <img src="{{ slide }}" class="d-block w-100 card-img-top rounded-top" alt="{{ project['name'] }} image">
                  </div>
                {% else %}
                  <div class="carousel-item">
                    <img src="{{ slide }}" class="d-block w-100 card-img-top rounded-top" alt="{{ project['name'] }} image">
                  </div>
                {% endif %}
              {% endfor %}
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carousel-{{ project['id'] }}" data-bs-slide="prev" onclick="event.stopPropagation();">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carousel-{{ project['id'] }}" data-bs-slide="next" onclick="event.stopPropagation();">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
          </div>
          <div class="project-card-title">
            <h5>{{ project["name"] }}</h5>
          </div>
      </div>
    {% endfor %}
    </div>
{% endblock %}